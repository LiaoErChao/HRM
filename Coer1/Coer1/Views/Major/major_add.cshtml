

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="~/jquery/dist/jquery.js"></script>
    <script src="~/vue.js"></script> 
    <script src="~/javascript/comm/comm.js"></script>
    <link href="~/css/table.css" rel="stylesheet" />
</head>


<body>
    <div id="div1">
        <form action="major.html" method="post">
            <table width="100%">
                <tr>
                    <td>
                        <font color="black">
                            您正在做的业务是：人力资源--客户化设置--人力资源档案管理设置--职位设置--职位添加
                        </font>
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        <input type="button" value="提交" class="BUTTON_STYLE1" v-on:click="add()">
                        <input type="button" value="返回" class="BUTTON_STYLE1"
                               onclick="history.back();">
                    </td>
                </tr>
            </table>

            <table width="100%" border="1" cellpadding=0 cellspacing=1
                   bordercolorlight=#848284 bordercolordark=#eeeeee
                   class="TABLE_STYLE1">

                <tr>
                    <td class="TD_STYLE1" width="19%">
                        职位分类编号
                    </td>
                    <td class="TD_STYLE2" width="81%">
                        <input type="text" class="INPUT_STYLE1" name="cm.majorKindId" id="major_kind_id"/>
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1" width="19%">
                        职位分类名称
                    </td>
                    <td class="TD_STYLE2" width="81%">
                        <input type="text" class="INPUT_STYLE1" name="cm.majorKindName"  id="majorkindname"/>
                    </td>
                <tr>
                    <td class="TD_STYLE1" width="19%">
                        职位编号
                    </td>
                    <td class="TD_STYLE2" width="81%">
                        <input type="text" class="INPUT_STYLE1" name="cm.majorId" id="majorid"/>
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1" width="19%">
                        职位名称
                    </td>
                    <td class="TD_STYLE2" width="81%">
                        <input type="text" class="INPUT_STYLE1" name="cm.majorName" id="majorname"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>
 
    <script type="text/javascript">
        var vm = new Vue({
            el: "#div1",
            data: {
                da:[],
            },
            methods: {
                add: function () {
                   
                    $.ajax({
                        url: "http://localhost:5000/api/Major/?major_kind_id=" + $("#major_kind_id").val() + "&majorkindname=" + $("#majorkindname").val() + "&majorid=" + $("#majorid").val() + "&majorname=" + $("#majorname").val(),
                        type: "post",
                        success: function (msg) {
                            if (msg > 0) {
                                alert("添加成功");
                                window.location.href = "/Major/major";
                            } else {
                                alert("添加失败");
                            }
                        }
                    });

                }
            },
            mounted: function () {
              

            }

        })

    </script>
</body>
</html>

